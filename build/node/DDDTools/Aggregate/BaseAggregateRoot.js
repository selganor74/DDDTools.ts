"use strict";
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var BaseEntity_1 = require("../Entity/BaseEntity");
var BaseAggregateRoot = (function (_super) {
    __extends(BaseAggregateRoot, _super);
    function BaseAggregateRoot() {
        _super.apply(this, arguments);
        this.__revisionId = 0;
    }
    BaseAggregateRoot.prototype.getRevisionId = function () {
        return this.__revisionId;
    };
    BaseAggregateRoot.prototype.incrementRevisionId = function () {
        this.__revisionId++;
    };
    BaseAggregateRoot.prototype.perfectlyMatch = function (other) {
        if (!other) {
            return false;
        }
        var thisOne = this.getState();
        var theOther = other.getState();
        var thisOneAsString = JSON.stringify(thisOne);
        var theOtherAsString = JSON.stringify(theOther);
        return thisOneAsString === theOtherAsString;
    };
    return BaseAggregateRoot;
}(BaseEntity_1.BaseEntity));
exports.BaseAggregateRoot = BaseAggregateRoot;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQmFzZUFnZ3JlZ2F0ZVJvb3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvREREVG9vbHMvQWdncmVnYXRlL0Jhc2VBZ2dyZWdhdGVSb290LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLDJCQUF5QixzQkFBc0IsQ0FBQyxDQUFBO0FBWWhEO0lBSVkscUNBQW1CO0lBSi9CO1FBSVksOEJBQW1CO1FBR25CLGlCQUFZLEdBQVcsQ0FBQyxDQUFDO0lBNEJyQyxDQUFDO0lBMUJVLHlDQUFhLEdBQXBCO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUM7SUFDN0IsQ0FBQztJQUVNLCtDQUFtQixHQUExQjtRQUNJLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBS00sMENBQWMsR0FBckIsVUFBc0IsS0FBaUM7UUFFbkQsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ1QsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUNqQixDQUFDO1FBRUQsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQzlCLElBQUksUUFBUSxHQUFHLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUdoQyxJQUFJLGVBQWUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzlDLElBQUksZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUVoRCxNQUFNLENBQUMsZUFBZSxLQUFLLGdCQUFnQixDQUFDO0lBQ2hELENBQUM7SUFDTCx3QkFBQztBQUFELENBQUMsQUFuQ0QsQ0FJWSx1QkFBVSxHQStCckI7QUFuQ3FCLHlCQUFpQixvQkFtQ3RDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0lLZXlWYWx1ZU9iamVjdH0gZnJvbSBcIi4uL0VudGl0eS9JS2V5VmFsdWVPYmplY3RcIjtcclxuaW1wb3J0IHtCYXNlRW50aXR5fSBmcm9tIFwiLi4vRW50aXR5L0Jhc2VFbnRpdHlcIjtcclxuaW1wb3J0IHtJQWdncmVnYXRlUm9vdH0gZnJvbSBcIi4vSUFnZ3JlZ2F0ZVJvb3RcIjtcclxuaW1wb3J0IHtJRW50aXR5fSBmcm9tIFwiLi4vRW50aXR5L0lFbnRpdHlcIjtcclxuXHJcbi8qKlxyXG4gKiBJbXBsZW1lbnRzIHRoZSBBZ2dyZWdhdGUgUGF0dGVybiBieSBkZWZpbmluZyBpbnRlcmZhY2VzIGFuZCBiYXNlIGJlaGF2aW9yIGZvciBhbiBBZ2dyZWdhdGVSb290LlxyXG4gKi9cclxuLy8gbmFtZXNwYWNlIERERFRvb2xzLkFnZ3JlZ2F0ZSB7XHJcblxyXG4vKipcclxuICogQmFzZSBiZWhhdmlvciBvZiBhbiBBZ2dyZWdhdGVSb290LCB3aGljaCBpcyBiYXNpY2FsbHkgYW4gZW50aXR5Li4uXHJcbiAqL1xyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQmFzZUFnZ3JlZ2F0ZVJvb3Q8XHJcbiAgICBUIGV4dGVuZHMgSUFnZ3JlZ2F0ZVJvb3Q8VCwgVEtleT4sXHJcbiAgICBUS2V5IGV4dGVuZHMgSUtleVZhbHVlT2JqZWN0PFRLZXk+XHJcbiAgICA+XHJcbiAgICBleHRlbmRzIEJhc2VFbnRpdHk8VCwgVEtleT5cclxuICAgIGltcGxlbWVudHMgSUFnZ3JlZ2F0ZVJvb3Q8VCwgVEtleT4sIElFbnRpdHk8VCwgVEtleT5cclxue1xyXG4gICAgcHJpdmF0ZSBfX3JldmlzaW9uSWQ6IG51bWJlciA9IDA7XHJcblxyXG4gICAgcHVibGljIGdldFJldmlzaW9uSWQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fX3JldmlzaW9uSWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGluY3JlbWVudFJldmlzaW9uSWQoKSB7XHJcbiAgICAgICAgdGhpcy5fX3JldmlzaW9uSWQrKztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbXBhcmVzIGFuIGFnZ3JlZ2F0ZSB3aXRoIGFub3RoZXIuIFJldHVybnMgdHJ1ZSBpZiBhZ2dyZWdhdGUncyBkYXRhIGFyZSBleGFjdGx5IGVxdWFsLlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcGVyZmVjdGx5TWF0Y2gob3RoZXI6IEJhc2VBZ2dyZWdhdGVSb290PFQsIFRLZXk+KTogYm9vbGVhbiB7XHJcblxyXG4gICAgICAgIGlmICghb3RoZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHRoaXNPbmUgPSB0aGlzLmdldFN0YXRlKCk7XHJcbiAgICAgICAgdmFyIHRoZU90aGVyID0gb3RoZXIuZ2V0U3RhdGUoKTtcclxuXHJcbiAgICAgICAgLy8gZG8gdGhlIGNvbXBhcmlzb24ganVzdCBsaWtlIHZhbHVlIG9iamVjdHMuLi4gbmFpdmUgYnV0IGZ1bmN0aW9uYWwgYXQgdGhpcyB0aW1lLlxyXG4gICAgICAgIHZhciB0aGlzT25lQXNTdHJpbmcgPSBKU09OLnN0cmluZ2lmeSh0aGlzT25lKTtcclxuICAgICAgICB2YXIgdGhlT3RoZXJBc1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KHRoZU90aGVyKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXNPbmVBc1N0cmluZyA9PT0gdGhlT3RoZXJBc1N0cmluZztcclxuICAgIH1cclxufVxyXG4vLyB9Il19